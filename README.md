# 拉屎小能手 🚽

一个有趣且实用的 Discord 机器人，旨在帮助用户以一种轻松的方式追踪和了解自己的肠道健康状况。它不仅仅是一个记录工具，更是一位随身的“肠道健康助理”。

## ✨ 主要功能

-   **实时计时与记录**: 使用 `/开始拉屎` 和 `/结束拉屎` 精确记录每次如厕的时长，并附上详细战果。
-   **快速补录**: 忘记计时了？通过 `/拉屎打卡` 可以快速补录一次记录。
-   **数据可视化**:
    -   **每周日志**: 通过 `/本周详细日志` 获取本周的详细文字报告和统计。
    -   **每月热力图**: 使用 `/本月热力图` 以日历形式直观查看当月的排便颜色和硬度分布。
-   **社交排行榜**: 围观服务器内的“厕所之王”！`/排行榜` 会根据次数和总时长展示排名。
-   **人性化操作**:
    -   手滑了？`/取消打卡` 可以轻松删除最近一次的记录。
    -   如厕太久？机器人会私信发送善意提醒，关爱你的健康。
-   **健康小贴士**: 每次完成记录后，机器人会随机发送一条实用的肠道健康小知识。

## 📂 项目结构

```
POOP/
├── cogs/
│   ├── core/
│   │   ├── __init__.py
│   │   ├── constants.py      # 存储所有常量（如选项、映射、提示语）
│   │   ├── database.py       # 数据库操作模块 (SQLite)
│   │   └── views.py          # 存放 UI 组件 (如按钮视图)
│   │
│   ├── __init__.py
│   └── poop_tracker.py     # 核心功能插件，包含所有斜杠命令
│
├── main.py                 # 机器人主入口文件
├── requirements.txt        # Python 依赖列表
└── README.md               # 就是你正在看的这个文件
```

-   **`main.py`**: 机器人的启动入口。它负责初始化机器人、加载 `cogs` 目录下的所有插件，并连接到 Discord。
-   **`cogs/`**: 用于存放机器人功能插件（Cogs）的目录，实现了功能的模块化。
-   **`cogs/poop_tracker.py`**: 项目的核心，包含了所有用户可见的斜杠命令的定义和逻辑。
-   **`cogs/core/`**: 一个共享的 Python 包，存放被各个插件共同使用的核心代码。
    -   **`database.py`**: 封装了所有与 `SQLite` 数据库的交互逻辑，包括表的初始化、数据的增删改查。
    -   **`constants.py`**: 定义了项目中的所有常量，如命令选项、颜色映射、Emoji 字典和健康提示语录，便于集中管理和修改。
    -   **`views.py`**: 定义了 `discord.ui.View` 组件，例如 `/取消打卡` 命令中用于确认/取消操作的按钮。

## 🚀 安装与启动

1.  **克隆仓库**
    ```bash
    git clone <你的仓库链接>
    cd POOP
    ```

2.  **安装依赖**
    建议在虚拟环境中操作。
    ```bash
    pip install -r requirements.txt
    ```

3.  **配置机器人令牌**
    在项目根目录下创建一个名为 `.env` 的文件，并填入你的 Discord 机器人令牌：
    ```env
    DISCORD_TOKEN=<q>"YOUR_SUPER_SECRET_BOT_TOKEN"</q>
    ```

4.  **运行机器人**
    ```bash
    python main.py
    ```
    机器人成功登录后，你就可以在你的服务器中使用斜杠命令了！

## 🛠️ 技术栈

-   **语言**: Python 3.10+
-   **核心框架**: [discord.py](https://github.com/Rapptz/discord.py) v2.0+
-   **数据库**: SQLite3 (通过 Python 内置库)
-   **依赖管理**: `requirements.txt`